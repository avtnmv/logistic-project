# Тестирование системы верификации

## Обзор

Система верификации позволяет пользователям загружать документы для подтверждения личности:
- Лицевая сторона паспорта
- Обратная сторона паспорта  
- Селфи с паспортом

## Компоненты системы

### 1. VerificationForm
- Модальное окно с формой загрузки документов
- Drag & Drop поддержка
- Валидация файлов (только изображения, максимум 5MB)
- Предварительный просмотр загруженных файлов

### 2. VerificationService
- Обработка загрузки документов
- Хранение данных в localStorage (для демонстрации)
- Управление статусами верификации

### 3. AdminPanel
- Панель администратора для управления верификациями
- Просмотр загруженных документов
- Изменение статусов (одобрить/отклонить)

## Как протестировать

### Шаг 1: Загрузка документов
1. Войдите в профиль пользователя
2. Нажмите кнопку "Пройти верификацию"
3. Загрузите 3 изображения:
   - Фото лицевой стороны паспорта
   - Фото обратной стороны паспорта
   - Селфи с паспортом
4. Нажмите "Отправить на верификацию"

### Шаг 2: Проверка статуса
1. В профиле появится статус "На рассмотрении"
2. Кнопка верификации станет неактивной

### Шаг 3: Административная панель
1. Откройте файл `src/components/AdminPanel.tsx`
2. Временно замените содержимое `src/App.tsx` на:
```tsx
import AdminPanel from './components/AdminPanel';

function App() {
  return <AdminPanel />;
}

export default App;
```
3. Запустите приложение
4. В панели администратора вы увидите загруженные документы
5. Нажмите "Одобрить" или "Отклонить"

### Шаг 4: Проверка результата
1. Верните оригинальный `App.tsx`
2. Обновите страницу профиля
3. Увидите новый статус:
   - ✅ "Верифицирован" (зеленый значок)
   - ❌ "Отклонено" (красный значок)

## Технические детали

### Хранение данных
- Документы конвертируются в base64 и сохраняются в localStorage
- В реальном проекте замените на API вызовы

### Статусы верификации
- `none` - верификация не проходилась
- `pending` - документы на рассмотрении
- `approved` - верификация одобрена
- `rejected` - верификация отклонена

### Валидация файлов
- Только изображения (JPG, PNG, WEBP)
- Максимальный размер: 5MB
- Обязательные поля: все 3 документа

## Интеграция с бэкендом

Для интеграции с реальным API замените в `VerificationService`:

```typescript
// Вместо localStorage
const response = await fetch('/api/verification', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ userId, documents: formData })
});

// Для получения статуса
const status = await fetch(`/api/verification/${userId}`);
```

## Стилизация

Все стили находятся в:
- `src/css/verification-form.css` - форма верификации
- `src/css/admin-panel.css` - панель администратора
- `src/css/homepage.css` - статусы в профиле

## Безопасность

⚠️ **Внимание**: Текущая реализация хранит документы в localStorage только для демонстрации. В продакшене:
- Используйте защищенное API
- Шифруйте документы
- Ограничивайте доступ к панели администратора
- Логируйте все действия
- Используйте HTTPS
