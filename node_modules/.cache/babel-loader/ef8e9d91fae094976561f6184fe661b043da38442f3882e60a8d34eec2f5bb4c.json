{"ast":null,"code":"import _objectSpread from\"/Users/avtnmv/Documents/Front-End/logistics-project-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import Header from'./Header';import LeftSidebar from'./LeftSidebar';import FormMessage from'./FormMessage';import{useCurrentUser}from'../hooks/useCurrentUser';import'../css/left-sidebar.css';import'../css/homepage.css';import{getGlobalTestDB,updateUserEmail}from'../data/testData';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Security=()=>{const navigate=useNavigate();const currentUser=useCurrentUser();const[email,setEmail]=useState('');const[message,setMessage]=useState('');const[messageType,setMessageType]=useState('info');const[messageVisible,setMessageVisible]=useState(false);const[isCodeSent,setIsCodeSent]=useState(false);const[verificationCode,setVerificationCode]=useState('');const[generatedCode,setGeneratedCode]=useState('');const[isEditingEmail,setIsEditingEmail]=useState(false);useEffect(()=>{document.body.style.backgroundColor='rgb(245, 245, 245)';return()=>{document.body.style.backgroundColor='white';};},[]);useEffect(()=>{if(currentUser!==null&&currentUser!==void 0&&currentUser.email){setEmail(currentUser.email);}},[currentUser===null||currentUser===void 0?void 0:currentUser.email]);const validateEmail=value=>{const re=/^(?:[a-zA-Z0-9_'^&\\/+-])+(?:\\.(?:[a-zA-Z0-9_'^&\\/+-])+)*@(?:(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,})$/;return re.test(value);};const handleSendCode=()=>{if(!email.trim()){setMessage('Пожалуйста, укажите E-mail');setMessageType('error');setMessageVisible(true);return;}if(!validateEmail(email.trim())){setMessage('Некорректный E-mail. Проверьте адрес и попробуйте снова.');setMessageType('error');setMessageVisible(true);return;}// Имитация отправки кода подтверждения на email\n// Проверяем уникальность email среди всех пользователей\nconst db=getGlobalTestDB();const normalized=email.trim().toLowerCase();const isTaken=Object.values(db.users).some(u=>(u.email||'').toLowerCase()===normalized&&u.phone!==(currentUser===null||currentUser===void 0?void 0:currentUser.phone));if(isTaken){setMessage('Этот E-mail уже используется другим аккаунтом. Укажите другой адрес.');setMessageType('error');setMessageVisible(true);return;}// Генерируем простой 4-значный код для имитации\nconst code=Math.floor(1000+Math.random()*9000).toString();setGeneratedCode(code);console.log(\"\\u2709\\uFE0F \\u0418\\u043C\\u0438\\u0442\\u0430\\u0446\\u0438\\u044F: \\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D \\u043A\\u043E\\u0434 \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F \\u043D\\u0430 \".concat(email,\". \\u041A\\u043E\\u0434: \").concat(code));setMessage(\"\\u041A\\u043E\\u0434 \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D \\u043D\\u0430 \".concat(email));setMessageType('success');setMessageVisible(true);setIsCodeSent(true);};const handleChangePassword=()=>{navigate('/forgot-password');};const handleConfirmEmail=()=>{if(!verificationCode.trim()){setMessage('Введите код подтверждения');setMessageType('error');setMessageVisible(true);return;}if(verificationCode!==generatedCode){setMessage('Неверный код. Попробуйте еще раз.');setMessageType('error');setMessageVisible(true);return;}// Сохраняем email в базе и в currentUser\nconst db=getGlobalTestDB();if(currentUser!==null&&currentUser!==void 0&&currentUser.phone){updateUserEmail(currentUser.phone,email,db);const storedUser=localStorage.getItem('currentUser');if(storedUser){try{const u=JSON.parse(storedUser);localStorage.setItem('currentUser',JSON.stringify(_objectSpread(_objectSpread({},u),{},{email})));}catch(e){}}setMessage('E-mail подтвержден и сохранен.');setMessageType('success');setMessageVisible(true);setIsCodeSent(false);setVerificationCode('');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"homepage-container container\",children:[/*#__PURE__*/_jsx(LeftSidebar,{onAddCargo:()=>navigate('/homepage?form=add-cargo'),onAddTransport:()=>navigate('/homepage?form=add-transport'),onShowCards:()=>navigate('/my-transports'),activeForm:null,currentUser:currentUser}),/*#__PURE__*/_jsxs(\"div\",{className:\"homepage-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"homepage-form-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"homepage-form-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"homepage-form-header-block\",style:{marginBottom:'16px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"homepage-form-header-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0425\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C E-mail?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u043E\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430 \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u0443\\u0435\\u0442\\u0441\\u044F \\u0434\\u043B\\u044F \\u0432\\u0445\\u043E\\u0434\\u0430 \\u0432 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0443. \\u041F\\u043E\\u0441\\u043B\\u0435 \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F E-mail \\u0432\\u044B \\u0442\\u0430\\u043A\\u0436\\u0435 \\u0441\\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C \\u0435\\u0433\\u043E \\u0434\\u043B\\u044F \\u0432\\u0445\\u043E\\u0434\\u0430 \\u0438 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u0432\\u0430\\u0436\\u043D\\u044B\\u0445 \\u0443\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u0439.\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-section\",children:currentUser!==null&&currentUser!==void 0&&currentUser.email&&!isEditingEmail?/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",style:{display:'flex',justifyContent:'space-between',alignItems:'flex-end'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",style:{maxWidth:'405px'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"E-mail\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-input\",value:currentUser.email,readOnly:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-field\",style:{display:'flex',alignItems:'flex-end'},children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-transport-btn\",onClick:()=>{setIsEditingEmail(true);setIsCodeSent(false);setVerificationCode('');},children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u043E\\u0447\\u0442\\u0443\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",style:{display:'flex',justifyContent:'space-between',alignItems:'flex-end'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",style:{maxWidth:'405px'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"E-mail\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-input\",placeholder:\"example@email.com\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'8px',color:'#666',fontSize:'14px'},children:\"\\u041D\\u0430 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u043D\\u044B\\u0439 \\u0430\\u0434\\u0440\\u0435\\u0441 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D \\u043A\\u043E\\u0434 \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F. \\u0418\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0433\\u043E \\u0434\\u043B\\u044F \\u0437\\u0430\\u0432\\u0435\\u0440\\u0448\\u0435\\u043D\\u0438\\u044F \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F \\u043F\\u043E\\u0447\\u0442\\u044B.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-field\",style:{display:'flex',alignItems:'flex-end'},children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-cargo-btn\",onClick:handleSendCode,children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043E\\u0434\"})})]}),isCodeSent&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",style:{marginTop:'16px',display:'flex',justifyContent:'space-between',alignItems:'flex-end'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",style:{maxWidth:'405px'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043A\\u043E\\u0434\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-input\",placeholder:\"4-\\u0437\\u043D\\u0430\\u0447\\u043D\\u044B\\u0439 \\u043A\\u043E\\u0434\",value:verificationCode,onChange:e=>setVerificationCode(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-field\",style:{display:'flex',alignItems:'flex-end'},children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-transport-btn\",onClick:handleConfirmEmail,children:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u044C\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'16px'},children:/*#__PURE__*/_jsx(FormMessage,{message:message,type:messageType,isVisible:messageVisible})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"homepage-form-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"homepage-form-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0425\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0441\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C?\"}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'8px'},children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u0438 \\u0445\\u0440\\u0430\\u043D\\u044F\\u0442\\u0441\\u044F \\u0432 \\u0437\\u0430\\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u0430\\u043D\\u043D\\u043E\\u043C \\u0432\\u0438\\u0434\\u0435, \\u043F\\u043E\\u044D\\u0442\\u043E\\u043C\\u0443 \\u043C\\u044B \\u043D\\u0435 \\u043C\\u043E\\u0436\\u0435\\u043C \\u043E\\u0442\\u043E\\u0431\\u0440\\u0430\\u0437\\u0438\\u0442\\u044C \\u0438\\u0445 \\u0432 \\u043D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0430\\u0445. \\u0415\\u0441\\u043B\\u0438 \\u0432\\u044B \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C, \\u043D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\xAB\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\\xBB.\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'16px'},children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-transport-btn\",onClick:handleChangePassword,children:\"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"})})]})})]})]})]});};export default Security;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Header","LeftSidebar","FormMessage","useCurrentUser","getGlobalTestDB","updateUserEmail","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Security","navigate","currentUser","email","setEmail","message","setMessage","messageType","setMessageType","messageVisible","setMessageVisible","isCodeSent","setIsCodeSent","verificationCode","setVerificationCode","generatedCode","setGeneratedCode","isEditingEmail","setIsEditingEmail","document","body","style","backgroundColor","validateEmail","value","re","test","handleSendCode","trim","db","normalized","toLowerCase","isTaken","Object","values","users","some","u","phone","code","Math","floor","random","toString","console","log","concat","handleChangePassword","handleConfirmEmail","storedUser","localStorage","getItem","JSON","parse","setItem","stringify","_objectSpread","e","children","className","onAddCargo","onAddTransport","onShowCards","activeForm","marginBottom","display","justifyContent","alignItems","maxWidth","type","readOnly","onClick","placeholder","onChange","target","marginTop","color","fontSize","isVisible"],"sources":["/Users/avtnmv/Documents/Front-End/logistics-project-react/src/components/Security.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Header from './Header';\nimport LeftSidebar from './LeftSidebar';\nimport FormMessage from './FormMessage';\nimport { useCurrentUser } from '../hooks/useCurrentUser';\nimport '../css/left-sidebar.css';\nimport '../css/homepage.css';\nimport { getGlobalTestDB, updateUserEmail } from '../data/testData';\n\nconst Security: React.FC = () => {\n  const navigate = useNavigate();\n  const currentUser = useCurrentUser();\n\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState<'success' | 'error' | 'info'>('info');\n  const [messageVisible, setMessageVisible] = useState(false);\n  const [isCodeSent, setIsCodeSent] = useState(false);\n  const [verificationCode, setVerificationCode] = useState('');\n  const [generatedCode, setGeneratedCode] = useState('');\n  const [isEditingEmail, setIsEditingEmail] = useState(false);\n\n  useEffect(() => {\n    document.body.style.backgroundColor = 'rgb(245, 245, 245)';\n    return () => {\n      document.body.style.backgroundColor = 'white';\n    };\n  }, []);\n\n  useEffect(() => {\n    if (currentUser?.email) {\n      setEmail(currentUser.email);\n    }\n  }, [currentUser?.email]);\n\n  const validateEmail = (value: string) => {\n    const re = /^(?:[a-zA-Z0-9_'^&\\/+-])+(?:\\.(?:[a-zA-Z0-9_'^&\\/+-])+)*@(?:(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,})$/;\n    return re.test(value);\n  };\n\n  const handleSendCode = () => {\n    if (!email.trim()) {\n      setMessage('Пожалуйста, укажите E-mail');\n      setMessageType('error');\n      setMessageVisible(true);\n      return;\n    }\n\n    if (!validateEmail(email.trim())) {\n      setMessage('Некорректный E-mail. Проверьте адрес и попробуйте снова.');\n      setMessageType('error');\n      setMessageVisible(true);\n      return;\n    }\n\n    // Имитация отправки кода подтверждения на email\n    // Проверяем уникальность email среди всех пользователей\n    const db = getGlobalTestDB();\n    const normalized = email.trim().toLowerCase();\n    const isTaken = Object.values(db.users).some(u => (u.email || '').toLowerCase() === normalized && u.phone !== currentUser?.phone);\n    if (isTaken) {\n      setMessage('Этот E-mail уже используется другим аккаунтом. Укажите другой адрес.');\n      setMessageType('error');\n      setMessageVisible(true);\n      return;\n    }\n\n    // Генерируем простой 4-значный код для имитации\n    const code = Math.floor(1000 + Math.random() * 9000).toString();\n    setGeneratedCode(code);\n    console.log(`✉️ Имитация: Отправлен код подтверждения на ${email}. Код: ${code}`);\n    setMessage(`Код подтверждения отправлен на ${email}`);\n    setMessageType('success');\n    setMessageVisible(true);\n    setIsCodeSent(true);\n  };\n\n  const handleChangePassword = () => {\n    navigate('/forgot-password');\n  };\n\n  const handleConfirmEmail = () => {\n    if (!verificationCode.trim()) {\n      setMessage('Введите код подтверждения');\n      setMessageType('error');\n      setMessageVisible(true);\n      return;\n    }\n\n    if (verificationCode !== generatedCode) {\n      setMessage('Неверный код. Попробуйте еще раз.');\n      setMessageType('error');\n      setMessageVisible(true);\n      return;\n    }\n\n    // Сохраняем email в базе и в currentUser\n    const db = getGlobalTestDB();\n    if (currentUser?.phone) {\n      updateUserEmail(currentUser.phone, email, db);\n      const storedUser = localStorage.getItem('currentUser');\n      if (storedUser) {\n        try {\n          const u = JSON.parse(storedUser);\n          localStorage.setItem('currentUser', JSON.stringify({ ...u, email }));\n        } catch (e) {}\n      }\n      setMessage('E-mail подтвержден и сохранен.');\n      setMessageType('success');\n      setMessageVisible(true);\n      setIsCodeSent(false);\n      setVerificationCode('');\n    }\n  };\n\n  return (\n    <>\n      <Header />\n      <div className=\"homepage-container container\">\n        <LeftSidebar \n          onAddCargo={() => navigate('/homepage?form=add-cargo')}\n          onAddTransport={() => navigate('/homepage?form=add-transport')}\n          onShowCards={() => navigate('/my-transports')}\n          activeForm={null}\n          currentUser={currentUser}\n        />\n\n        <div className=\"homepage-content\">\n          <div className=\"homepage-form-container\">\n            <div className=\"homepage-form-content\">\n              <div className=\"homepage-form-header-block\" style={{ marginBottom: '16px' }}>\n                <div className=\"homepage-form-header-content\">\n                  <h2>Хотите добавить E-mail?</h2>\n                  <p>Основной номер телефона используется для входа в систему. После добавления E-mail вы также сможете использовать его для входа и получения важных уведомлений.</p>\n                </div>\n              </div>\n              <div className=\"form-section\">\n                {currentUser?.email && !isEditingEmail ? (\n                  <div className=\"form-row\" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-end' }}>\n                    <div className=\"form-field\" style={{ maxWidth: '405px' }}>\n                      <label>E-mail</label>\n                      <input type=\"email\" className=\"form-input\" value={currentUser.email} readOnly />\n                    </div>\n                    <div className=\"form-field\" style={{ display: 'flex', alignItems: 'flex-end' }}>\n                      <button className=\"submit-transport-btn\" onClick={() => { setIsEditingEmail(true); setIsCodeSent(false); setVerificationCode(''); }}>Изменить почту</button>\n                    </div>\n                  </div>\n                ) : (\n                  <>\n                    <div className=\"form-row\" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-end' }}>\n                      <div className=\"form-field\" style={{ maxWidth: '405px' }}>\n                        <label>E-mail</label>\n                        <input \n                          type=\"email\" \n                          className=\"form-input\" \n                          placeholder=\"example@email.com\" \n                          value={email}\n                          onChange={(e) => setEmail(e.target.value)}\n                        />\n                        <div style={{ marginTop: '8px', color: '#666', fontSize: '14px' }}>\n                          На указанный адрес будет отправлен код подтверждения. Используйте его для завершения добавления почты.\n                        </div>\n                      </div>\n                      <div className=\"form-field\" style={{ display: 'flex', alignItems: 'flex-end' }}>\n                        <button className=\"submit-cargo-btn\" onClick={handleSendCode}>Отправить код</button>\n                      </div>\n                    </div>\n\n                    {isCodeSent && (\n                      <div className=\"form-row\" style={{ marginTop: '16px', display: 'flex', justifyContent: 'space-between', alignItems: 'flex-end' }}>\n                        <div className=\"form-field\" style={{ maxWidth: '405px' }}>\n                          <label>Введите код</label>\n                          <input \n                            type=\"text\" \n                            className=\"form-input\" \n                            placeholder=\"4-значный код\" \n                            value={verificationCode}\n                            onChange={(e) => setVerificationCode(e.target.value)}\n                          />\n                        </div>\n                        <div className=\"form-field\" style={{ display: 'flex', alignItems: 'flex-end' }}>\n                          <button className=\"submit-transport-btn\" onClick={handleConfirmEmail}>Подтвердить</button>\n                        </div>\n                      </div>\n                    )}\n                  </>\n                )}\n              </div>\n\n              <div style={{ marginTop: '16px' }}>\n                <FormMessage message={message} type={messageType} isVisible={messageVisible} />\n              </div>\n            </div>\n          </div>\n\n          {/* Блок: Сменить пароль */}\n          <div className=\"homepage-form-container\">\n            <div className=\"homepage-form-content\">\n              <h3>Хотите сменить пароль?</h3>\n              <p style={{ marginTop: '8px' }}>\n                Пароли хранятся в зашифрованном виде, поэтому мы не можем отобразить их в настройках. Если вы хотите изменить пароль, нажмите «Сменить пароль».\n              </p>\n\n              <div style={{ marginTop: '16px' }}>\n                <button className=\"submit-transport-btn\" onClick={handleChangePassword}>Сменить пароль</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Security;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}