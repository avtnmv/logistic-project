{"ast":null,"code":"class DocumentVerificationService {\n  constructor() {\n    this.STORAGE_KEY_PREFIX = 'document_verification_';\n  }\n  /**\n   * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é\n   */\n  async submitVerification(userId, formData) {\n    try {\n      // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç API –∑–∞–ø—Ä–æ—Å\n      // –°–µ–π—á–∞—Å —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏\n\n      const verificationData = {\n        id: `verification_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        userId,\n        status: 'pending',\n        submittedAt: new Date().toISOString(),\n        documents: {\n          passportFront: await this.fileToBase64(formData.passportFront),\n          passportBack: await this.fileToBase64(formData.passportBack),\n          selfieWithPassport: await this.fileToBase64(formData.selfieWithPassport)\n        }\n      };\n\n      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage\n      this.saveVerificationToStorage(verificationData);\n\n      // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–¥–µ—Ä–∂–∫—É API\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      return {\n        success: true,\n        verificationId: verificationData.id,\n        message: '–î–æ–∫—É–º–µ–Ω—Ç—ã —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é'\n      };\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏:', error);\n      return {\n        success: false,\n        message: '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.',\n        errors: ['–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞']\n      };\n    }\n  }\n\n  /**\n   * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n   */\n  async getVerificationStatus(userId) {\n    try {\n      console.log('üîç documentVerificationService.getVerificationStatus: userId =', userId);\n      const storageKey = `${this.STORAGE_KEY_PREFIX}${userId}`;\n      console.log('üîç documentVerificationService.getVerificationStatus: storageKey =', storageKey);\n      const stored = localStorage.getItem(storageKey);\n      if (stored) {\n        const verification = JSON.parse(stored);\n        console.log('üîç documentVerificationService.getVerificationStatus: found verification =', verification);\n        return verification;\n      }\n      console.log('üîç documentVerificationService.getVerificationStatus: no stored data for user');\n      return null;\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏:', error);\n      return null;\n    }\n  }\n\n  /**\n   * –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)\n   */\n  async getAllVerifications() {\n    try {\n      const allStorageKey = 'document_verification_data';\n      const stored = localStorage.getItem(allStorageKey);\n      if (stored) {\n        return JSON.parse(stored);\n      }\n      return [];\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –≤—Å–µ—Ö –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–π:', error);\n      return [];\n    }\n  }\n\n  /**\n   * –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)\n   */\n  async updateVerificationStatus(verificationId, status, notes) {\n    try {\n      // –°–Ω–∞—á–∞–ª–∞ –∏—â–µ–º –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ –æ–±—â–µ–º —Å–ø–∏—Å–∫–µ\n      const allStorageKey = 'document_verification_data';\n      const stored = localStorage.getItem(allStorageKey);\n      if (stored) {\n        const verifications = JSON.parse(stored);\n        const verificationIndex = verifications.findIndex(v => v.id === verificationId);\n        if (verificationIndex !== -1) {\n          const verification = verifications[verificationIndex];\n\n          // –û–±–Ω–æ–≤–ª—è–µ–º –≤ –æ–±—â–µ–º —Å–ø–∏—Å–∫–µ\n          verifications[verificationIndex].status = status;\n          verifications[verificationIndex].reviewedAt = new Date().toISOString();\n          if (notes) {\n            verifications[verificationIndex].notes = notes;\n          }\n          localStorage.setItem(allStorageKey, JSON.stringify(verifications));\n\n          // –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ–º –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ\n          const userStorageKey = `${this.STORAGE_KEY_PREFIX}${verification.userId}`;\n          localStorage.setItem(userStorageKey, JSON.stringify(verifications[verificationIndex]));\n          return {\n            success: true,\n            message: `–°—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞: ${status === 'approved' ? '–æ–¥–æ–±—Ä–µ–Ω–æ' : '–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ'}`\n          };\n        }\n      }\n      return {\n        success: false,\n        message: '–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞'\n      };\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏:', error);\n      return {\n        success: false,\n        message: '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞'\n      };\n    }\n  }\n\n  /**\n   * –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ–∞–π–ª –≤ base64 –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ localStorage\n   */\n  async fileToBase64(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n  }\n\n  /**\n   * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ localStorage\n   */\n  saveVerificationToStorage(verificationData) {\n    try {\n      console.log('üîç documentVerificationService.saveVerificationToStorage: saving for userId =', verificationData.userId);\n      const storageKey = `${this.STORAGE_KEY_PREFIX}${verificationData.userId}`;\n      console.log('üîç documentVerificationService.saveVerificationToStorage: storageKey =', storageKey);\n\n      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n      localStorage.setItem(storageKey, JSON.stringify(verificationData));\n      console.log('üîç documentVerificationService.saveVerificationToStorage: saved to localStorage');\n\n      // –¢–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)\n      const allStorageKey = 'document_verification_data';\n      const stored = localStorage.getItem(allStorageKey);\n      let verifications = [];\n      if (stored) {\n        verifications = JSON.parse(stored);\n        // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –µ—Å—Ç—å\n        verifications = verifications.filter(v => v.userId !== verificationData.userId);\n      }\n      verifications.push(verificationData);\n      localStorage.setItem(allStorageKey, JSON.stringify(verifications));\n      console.log('üîç documentVerificationService.saveVerificationToStorage: also saved to general list');\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ localStorage:', error);\n    }\n  }\n\n  /**\n   * –û—á–∏—â–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)\n   */\n  clearAllVerifications() {\n    try {\n      // –û—á–∏—â–∞–µ–º –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫\n      localStorage.removeItem('document_verification_data');\n\n      // –û—á–∏—â–∞–µ–º –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏\n      const keys = Object.keys(localStorage);\n      keys.forEach(key => {\n        if (key.startsWith(this.STORAGE_KEY_PREFIX)) {\n          localStorage.removeItem(key);\n        }\n      });\n      console.log('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—á–∏—â–µ–Ω—ã');\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏:', error);\n    }\n  }\n}\nexport const documentVerificationService = new DocumentVerificationService();\nexport default documentVerificationService;","map":{"version":3,"names":["DocumentVerificationService","constructor","STORAGE_KEY_PREFIX","submitVerification","userId","formData","verificationData","id","Date","now","Math","random","toString","substr","status","submittedAt","toISOString","documents","passportFront","fileToBase64","passportBack","selfieWithPassport","saveVerificationToStorage","Promise","resolve","setTimeout","success","verificationId","message","error","console","errors","getVerificationStatus","log","storageKey","stored","localStorage","getItem","verification","JSON","parse","getAllVerifications","allStorageKey","updateVerificationStatus","notes","verifications","verificationIndex","findIndex","v","reviewedAt","setItem","stringify","userStorageKey","file","reject","reader","FileReader","readAsDataURL","onload","result","onerror","filter","push","clearAllVerifications","removeItem","keys","Object","forEach","key","startsWith","documentVerificationService"],"sources":["/Users/avtnmv/Documents/Front-End/logistics-project-react¬†‚Äî –∫–æ–ø–∏—è/src/services/documentVerificationService.ts"],"sourcesContent":["import { VerificationFormData } from '../components/VerificationForm';\n\nexport interface VerificationStatus {\n  id: string;\n  userId: string;\n  status: 'pending' | 'approved' | 'rejected';\n  submittedAt: string;\n  reviewedAt?: string;\n  documents: {\n    passportFront: string;\n    passportBack: string;\n    selfieWithPassport: string;\n  };\n  notes?: string;\n}\n\nexport interface VerificationResponse {\n  success: boolean;\n  verificationId?: string;\n  message: string;\n  errors?: string[];\n}\n\nclass DocumentVerificationService {\n  private readonly STORAGE_KEY_PREFIX = 'document_verification_';\n\n  /**\n   * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é\n   */\n  async submitVerification(userId: string, formData: VerificationFormData): Promise<VerificationResponse> {\n    try {\n      // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç API –∑–∞–ø—Ä–æ—Å\n      // –°–µ–π—á–∞—Å —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏\n      \n      const verificationData: VerificationStatus = {\n        id: `verification_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        userId,\n        status: 'pending',\n        submittedAt: new Date().toISOString(),\n        documents: {\n          passportFront: await this.fileToBase64(formData.passportFront!),\n          passportBack: await this.fileToBase64(formData.passportBack!),\n          selfieWithPassport: await this.fileToBase64(formData.selfieWithPassport!)\n        }\n      };\n\n      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage\n      this.saveVerificationToStorage(verificationData);\n\n      // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–¥–µ—Ä–∂–∫—É API\n      await new Promise(resolve => setTimeout(resolve, 1000));\n\n      return {\n        success: true,\n        verificationId: verificationData.id,\n        message: '–î–æ–∫—É–º–µ–Ω—Ç—ã —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é'\n      };\n\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏:', error);\n      return {\n        success: false,\n        message: '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.',\n        errors: ['–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞']\n      };\n    }\n  }\n\n  /**\n   * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n   */\n  async getVerificationStatus(userId: string): Promise<VerificationStatus | null> {\n    try {\n      console.log('üîç documentVerificationService.getVerificationStatus: userId =', userId);\n      const storageKey = `${this.STORAGE_KEY_PREFIX}${userId}`;\n      console.log('üîç documentVerificationService.getVerificationStatus: storageKey =', storageKey);\n      \n      const stored = localStorage.getItem(storageKey);\n      if (stored) {\n        const verification: VerificationStatus = JSON.parse(stored);\n        console.log('üîç documentVerificationService.getVerificationStatus: found verification =', verification);\n        return verification;\n      }\n      console.log('üîç documentVerificationService.getVerificationStatus: no stored data for user');\n      return null;\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏:', error);\n      return null;\n    }\n  }\n\n  /**\n   * –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)\n   */\n  async getAllVerifications(): Promise<VerificationStatus[]> {\n    try {\n      const allStorageKey = 'document_verification_data';\n      const stored = localStorage.getItem(allStorageKey);\n      if (stored) {\n        return JSON.parse(stored);\n      }\n      return [];\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –≤—Å–µ—Ö –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–π:', error);\n      return [];\n    }\n  }\n\n  /**\n   * –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)\n   */\n  async updateVerificationStatus(\n    verificationId: string, \n    status: 'approved' | 'rejected', \n    notes?: string\n  ): Promise<VerificationResponse> {\n    try {\n      // –°–Ω–∞—á–∞–ª–∞ –∏—â–µ–º –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ –æ–±—â–µ–º —Å–ø–∏—Å–∫–µ\n      const allStorageKey = 'document_verification_data';\n      const stored = localStorage.getItem(allStorageKey);\n      if (stored) {\n        const verifications: VerificationStatus[] = JSON.parse(stored);\n        const verificationIndex = verifications.findIndex(v => v.id === verificationId);\n        \n        if (verificationIndex !== -1) {\n          const verification = verifications[verificationIndex];\n          \n          // –û–±–Ω–æ–≤–ª—è–µ–º –≤ –æ–±—â–µ–º —Å–ø–∏—Å–∫–µ\n          verifications[verificationIndex].status = status;\n          verifications[verificationIndex].reviewedAt = new Date().toISOString();\n          if (notes) {\n            verifications[verificationIndex].notes = notes;\n          }\n          \n          localStorage.setItem(allStorageKey, JSON.stringify(verifications));\n          \n          // –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ–º –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ\n          const userStorageKey = `${this.STORAGE_KEY_PREFIX}${verification.userId}`;\n          localStorage.setItem(userStorageKey, JSON.stringify(verifications[verificationIndex]));\n          \n          return {\n            success: true,\n            message: `–°—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞: ${status === 'approved' ? '–æ–¥–æ–±—Ä–µ–Ω–æ' : '–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ'}`\n          };\n        }\n      }\n      \n      return {\n        success: false,\n        message: '–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞'\n      };\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏:', error);\n      return {\n        success: false,\n        message: '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞'\n      };\n    }\n  }\n\n  /**\n   * –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ–∞–π–ª –≤ base64 –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ localStorage\n   */\n  private async fileToBase64(file: File): Promise<string> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result as string);\n      reader.onerror = error => reject(error);\n    });\n  }\n\n  /**\n   * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ localStorage\n   */\n  private saveVerificationToStorage(verificationData: VerificationStatus): void {\n    try {\n      console.log('üîç documentVerificationService.saveVerificationToStorage: saving for userId =', verificationData.userId);\n      const storageKey = `${this.STORAGE_KEY_PREFIX}${verificationData.userId}`;\n      console.log('üîç documentVerificationService.saveVerificationToStorage: storageKey =', storageKey);\n      \n      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n      localStorage.setItem(storageKey, JSON.stringify(verificationData));\n      console.log('üîç documentVerificationService.saveVerificationToStorage: saved to localStorage');\n      \n      // –¢–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)\n      const allStorageKey = 'document_verification_data';\n      const stored = localStorage.getItem(allStorageKey);\n      let verifications: VerificationStatus[] = [];\n      \n      if (stored) {\n        verifications = JSON.parse(stored);\n        // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –µ—Å—Ç—å\n        verifications = verifications.filter(v => v.userId !== verificationData.userId);\n      }\n      \n      verifications.push(verificationData);\n      localStorage.setItem(allStorageKey, JSON.stringify(verifications));\n      console.log('üîç documentVerificationService.saveVerificationToStorage: also saved to general list');\n      \n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ localStorage:', error);\n    }\n  }\n\n  /**\n   * –û—á–∏—â–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)\n   */\n  clearAllVerifications(): void {\n    try {\n      // –û—á–∏—â–∞–µ–º –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫\n      localStorage.removeItem('document_verification_data');\n      \n      // –û—á–∏—â–∞–µ–º –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏\n      const keys = Object.keys(localStorage);\n      keys.forEach(key => {\n        if (key.startsWith(this.STORAGE_KEY_PREFIX)) {\n          localStorage.removeItem(key);\n        }\n      });\n      \n      console.log('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—á–∏—â–µ–Ω—ã');\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏:', error);\n    }\n  }\n}\n\nexport const documentVerificationService = new DocumentVerificationService();\nexport default documentVerificationService;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}